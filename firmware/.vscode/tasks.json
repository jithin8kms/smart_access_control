{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build App",
      "type": "shell",
      "command": "make",
      "options": {
        "cwd": "${workspaceFolder}/app"
      },
      "group": "build"
    },
    {
      "label": "Build Bootloader",
      "type": "shell",
      "command": "make",
      "options": {
        "cwd": "${workspaceFolder}/bootloader"
      },
      "group": "build"
    },
    {
      "label": "Rebuild App",
      "type": "shell",
      "command": "make rebuild",
      
      "options": {
        "cwd": "${workspaceFolder}/app"
      },
      "group": "build"
    },
    {
      "label": "Clean Bootloader",
      "type": "shell",
      "command": "make",
      "args": ["clean"],
      "options": {
        "cwd": "${workspaceFolder}/bootloader"
      },
      "group": "none"
    },
    {
      "label": "Flash App",
      "type": "shell",
      "command": "st-flash",
      "args": [
        "write",
        "app/build/smart_access_control.bin",
        "0x08008000"
      ],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "problemMatcher": []
    },
    {
      "label": "Flash Bootloader",
      "type": "shell",
      "command": "st-flash",
      "args": [
        "write",
        "bootloader/build/bootloader.bin",
        "0x08000000"
      ],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "problemMatcher": []
    }, 

    {
      "label": "Flash BL+APP",
      "type": "shell",
      "command": "st-flash",
      "args": [
        "write",
        "app/build/smart_access_control_bl_app.bin",
        "0x08000000"
      ],
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "problemMatcher": []
    }
  ]
}
